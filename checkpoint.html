<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Redirect</title>
  </head>
  <body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Fetch user's IP address
            fetch('https://api.ipify.org/?format=json')
            .then(response => response.json())
            .then(data => {
                const ipAddress = data.ip;
                
                // Fetch IP details
                fetch(`https://api.ipstack.com/${ipAddress}?access_key=dc636aa2bdb6431961ac16273ebaf3d1`)
                .then(response => response.json())
                .then(data => {
                    const countryCode = data.country_code;

                    // Redirect if country code is not GB
                    if (countryCode !== 'GB') {
                        window.location.href = 'https://example.com'; // Redirect URL here
                    }
                })
                .catch(error => {
                    console.error('Error fetching IP details:', error);
                });
            })
            .catch(error => {
                console.error('Error fetching IP address:', error);
            });
        });
    </script>
  </body>
</html>
